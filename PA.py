import streamlit as st
import datetime

# --- داده‌های ساختگی پروژه ---
project_data = {
    "نام پروژه": "ساخت نیروگاه خورشیدی یزد",
    "تاریخ شروع": "1403/01/01",
    "تاریخ پایان برنامه‌ای": "1404/12/29",
    "پیشرفت فیزیکی": 65,
    "پیشرفت برنامه‌ای": 70,
    "تأخیر تجمعی (روز)": 10,
    "دلایل تأخیر": "دیرکرد در تأمین پنل‌های خورشیدی"
}

last_meeting = {
    "تاریخ": "1403/12/20",
    "شرکت‌کنندگان": ["نماینده پیمانکار", "نماینده مشاور", "نماینده کارفرما"],
    "تصمیمات": "اصلاح زمان‌بندی اجرای کابل‌کشی و تأمین منابع بیشتر"
}

# --- رابط کاربری Streamlit ---
st.set_page_config(page_title="دستیار پروژه هوشمند")
st.title("🤖 دستیار هوشمند مدیریت پروژه")
st.markdown("پرسش خود را درباره پروژه نیروگاه یزد وارد کنید:")

user_input = st.text_input("✍️ سوال شما")

if user_input:
    response = ""

    if "پیشرفت" in user_input:
        response = f"پیشرفت فیزیکی پروژه {project_data['پیشرفت فیزیکی']}٪ است، در حالی که پیشرفت برنامه‌ای {project_data['پیشرفت برنامه‌ای']}٪ است."

    elif "تأخیر" in user_input or "عقب" in user_input:
        response = f"پروژه تاکنون {project_data['تأخیر تجمعی (روز)']} روز تأخیر داشته است. دلیل اصلی: {project_data['دلایل تأخیر']}"

    elif "صورتجلسه" in user_input or "جلسه" in user_input:
        response = f"آخرین جلسه در تاریخ {last_meeting['تاریخ']} برگزار شد با حضور {', '.join(last_meeting['شرکت‌کنندگان'])}. تصمیم گرفته شد: {last_meeting['تصمیمات']}"

    elif "پایان" in user_input:
        response = f"تاریخ پایان برنامه‌ای پروژه: {project_data['تاریخ پایان برنامه‌ای']}"

    else:
        response = "متأسفم، فعلاً فقط می‌تونم به سوالاتی درباره پیشرفت، تأخیر، جلسات و زمان‌بندی پاسخ بدم."

    st.success(response)
